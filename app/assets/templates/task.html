<div ng-controller="TaskCtrl"><div ng-hide="tasks.length == 0"><span class="info">You have {{remaining()}} of {{tasks.length}} to do.</span></div><a href="" ng-click="clean()" ng-class="{opaque: !hasChecked()}">Remove checked.</a><ul><li ng-repeat="task in tasks"><div ng-hide="task.editMode"><input type="checkbox" ng-model="task.done"/><span class="done-{{task.done}}">{{task.text}}</span><span ng-hide="task.done" ng-click="task.editMode = true" class="edit-button"> &bull; Edit</span></div><form ng-show="task.editMode" ng-submit="task.editMode = false"><input ng-model="task.text" ui-event="{blur: 'task.editMode = false'}"/></form></li></ul><a href="" ng-click="formMode = true" ng-hide="formMode">Add task</a><form ng-submit="addTask()" ng-show="formMode"><input ng-model="taskText" placeholder="new task"/><input type="submit" value="Add!"/></form></div>